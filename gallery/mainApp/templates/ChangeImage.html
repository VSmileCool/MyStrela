{% extends 'BaseGallery.html' %}
{% load static %}

{% block title %}ChangeImage{% endblock %}

{% block content %}
<!-- style="filter: brightness(50%);" -->
<div style="display: inline-block; width: 70%; margin-top: 5%;">
    <!-- <img id="image" src="{{photourl}}"  style="display: none; margin:auto;"> -->
    <div style=" width:40%; margin: auto; position: relative;">
        <div id="textOnImage" style="position: absolute; visibility: hidden; z-index: 1;">TEXT</div>
        <img alt="photo" height="auto" id="imageforchanging" src="{{photourl}}" style="display: block; margin:auto" width="100%">
    </div>
</div>

<!-- <div id="image-box"><img id="image" src="{{photourl}}"></div> -->
<!-- МЕНЮ ИЗМЕНЕНИЯ КАРТИНКИ -->
<div style="height: 98%;
                width: 25%;
                background-color: white;
                float: right;
                border-radius: 10px;
                text-align: center;">

    <div id="aPhotoId">{{photoid}}</div>


    <div class="sliders"><label for="brightness">Яркость:</label>
        <input data-sizing="%" id="brightness" max="200" min="0" name="brightness" oninput="changeBrightness(this.value)" type="range" value="100"><span class="slider-value"
                                                                                                                                                         id="spanBrightnessValue">100%<span>
    </div>
    <div class="sliders"><label for="contrast">Контрастность:</label>
        <input data-sizing="%" id="contrast" max="200" min="0" name="contrast" oninput="changeContrast(this.value)" type="range" value="100"><span class="slider-value"
                                                                                                                                                   id="spanContrastValue">100%<span>
    </div>
    <div class="sliders"><label for="rotation">Поворот:</label>
        <input data-sizing="%" id="rotation" max="360" min="0" name="rotation" oninput="changeRotation(this.value)" type="range" value="0"><span class="slider-value"
                                                                                                                                                 id="spanRotationValue">0°<span>
    </div>
    <!-- <button onclick="cropImage()">CROP</button> -->
    <a href="crop_image/?photo={{photourl}}&id={{photoid}}" id="goToCrop">ОБРЕЗКА ИЗОБРАЖЕНИЯ</a>
    <!-- <a href="save_image">{{photoid}}</a> -->
    <div style="font-size: 16px;">ДОБАВИТЬ ТЕКСТ</div>
    <div><input id="textOnImageValue" type="text"></div>
    <button onclick="setTextVisibility()" style="display: inline-block;">ВСТАВИТЬ</button>
    <br>
    <button onclick="removeText()" style="display: inline-block;">УБРАТЬ</button>
    <div class="sliders"><label for="textMoveOnX">Смещение по x:</label>
        <input data-sizing="%" id="textMoveOnX" max="100" min="0" name="rotation" oninput="moveText()" type="range" value="0"><span class="slider-value"
                                                                                                                                    id="spanMoveXValue">0%</span>
    </div>
    <div class="sliders"><label for="textMoveOnY">Смещение по y:</label>
        <input data-sizing="%" id="textMoveOnY" max="100" min="0" name="rotation" oninput="moveText()" type="range" value="0"><span class="slider-value"
                                                                                                                                    id="spanMoveYValue">0%</span>
    </div>

    <button onclick="saveImage()">СОХРАНИТЬ</button>

</div>

{% endblock %}

{% block scripts %}
<script src="{% static 'js\changeImage.js' %}"></script>
<script src="{% static 'js\cropper.js' %}"></script>
<script src="{% static 'js\main.js' %}"></script>
<script src="{{ STATIC_URL }} /static/js/jquery-3.7.1.js" type="text/javascript"></script>
{% endblock %}
